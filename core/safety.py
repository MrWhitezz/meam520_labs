import numpy as np #line:1
import franka_interface #line:2
import itertools #line:3
class Safety ():#line:5
    ""#line:8
    def __init__ (O0O0O0000O0OOO0O0 ):#line:10
        O0O0O0000O0OOO0O0 ._FK =FK ()#line:11
    def test_new_configuration (O0000000O0O000O00 ,O0OOOOOO00OO0OOOO ):#line:13
        OOO0000O0000O00O0 ,OOOO0OO00OO00000O =O0000000O0O000O00 ._FK .forward (O0OOOOOO00OO0OOOO )#line:15
        O0O0OOO0O00O0O0O0 =0.05 #line:18
        OOO000OOO0O0O0O0O =0.05 #line:19
        O0OOO000OO00O0O0O =0.05 #line:20
        if OOO0000O0000O00O0 [-1 ][2 ]<O0O0OOO0O00O0O0O0 :#line:22
            print ("GRIPPER Z POSE TOO CLOSE TO TABLE: "+str (OOO0000O0000O00O0 [-1 ][2 ]))#line:23
            return (False )#line:24
        elif OOO0000O0000O00O0 [3 ][2 ]<O0O0OOO0O00O0O0O0 :#line:25
            print ("JOINT 4 Z POSE TOO CLOSE TO TABLE: "+str (OOO0000O0000O00O0 [3 ][2 ]))#line:26
            return (False )#line:27
        elif OOO0000O0000O00O0 [4 ][2 ]<O0O0OOO0O00O0O0O0 :#line:28
            print ("JOINT 5 Z POSE TOO CLOSE TO TABLE: "+str (OOO0000O0000O00O0 [3 ][2 ]))#line:29
            return (False )#line:30
        elif OOO0000O0000O00O0 [5 ][2 ]<O0O0OOO0O00O0O0O0 :#line:31
            print ("JOINT 6 Z POSE TOO CLOSE TO TABLE: "+str (OOO0000O0000O00O0 [3 ][2 ]))#line:32
            return (False )#line:33
        elif OOO0000O0000O00O0 [6 ][2 ]<O0O0OOO0O00O0O0O0 :#line:34
            print ("JOINT 7 Z POSE TOO CLOSE TO TABLE: "+str (OOO0000O0000O00O0 [3 ][2 ]))#line:35
            return (False )#line:36
        else :#line:37
            return (True )#line:38
class FK ():#line:41
    def __init__ (O0OO0OOOOO0O00O00 ):#line:43
        ""#line:46
        O0OO0OOOOO0O00O00 .d1 =0.333 #line:50
        O0OO0OOOOO0O00O00 .d2 =0.0 #line:51
        O0OO0OOOOO0O00O00 .d3 =0.316 #line:52
        O0OO0OOOOO0O00O00 .d4 =0.0 #line:53
        O0OO0OOOOO0O00O00 .d5 =0.384 #line:54
        O0OO0OOOOO0O00O00 .d6 =0.0 #line:55
        O0OO0OOOOO0O00O00 .d7 =0.0 #line:56
        O0OO0OOOOO0O00O00 .d8 =0.107 +0.103 #line:57
        O0OO0OOOOO0O00O00 .a1 =0.0 #line:60
        O0OO0OOOOO0O00O00 .a2 =0.0 #line:61
        O0OO0OOOOO0O00O00 .a3 =0.0 #line:62
        O0OO0OOOOO0O00O00 .a4 =0.0825 #line:63
        O0OO0OOOOO0O00O00 .a5 =-0.0825 #line:64
        O0OO0OOOOO0O00O00 .a6 =0.0 #line:65
        O0OO0OOOOO0O00O00 .a7 =0.088 #line:66
        O0OO0OOOOO0O00O00 .a8 =0.0 #line:67
        O0OO0OOOOO0O00O00 .c1 =-.192 #line:76
        O0OO0OOOOO0O00O00 .c2 =0 #line:77
        O0OO0OOOOO0O00O00 .c3 =-.121 #line:78
        O0OO0OOOOO0O00O00 .c4 =0 #line:79
        O0OO0OOOOO0O00O00 .c5 =-.259 #line:80
        O0OO0OOOOO0O00O00 .c6 =-.015 #line:81
        O0OO0OOOOO0O00O00 .c7 =.051 #line:82
        O0OO0OOOOO0O00O00 .alpha1 =0.0 #line:85
        O0OO0OOOOO0O00O00 .alpha2 =-np .pi /2.0 #line:86
        O0OO0OOOOO0O00O00 .alpha3 =np .pi /2.0 #line:87
        O0OO0OOOOO0O00O00 .alpha4 =np .pi /2.0 #line:88
        O0OO0OOOOO0O00O00 .alpha5 =-np .pi /2.0 #line:89
        O0OO0OOOOO0O00O00 .alpha6 =np .pi /2.0 #line:90
        O0OO0OOOOO0O00O00 .alpha7 =np .pi /2.0 #line:91
        O0OO0OOOOO0O00O00 .alpha8 =0.0 #line:92
        O0OO0OOOOO0O00O00 .lowerLim =np .array ([-2.8973 ,-1.7628 ,-2.8973 ,-3.0718 ,-2.8973 ,-0.0175 ,-2.8973 ]).reshape ((1 ,7 ))#line:95
        O0OO0OOOOO0O00O00 .upperLim =np .array ([2.8973 ,1.7628 ,2.8973 ,-0.0698 ,2.8973 ,3.7525 ,2.8973 ]).reshape ((1 ,7 ))#line:96
    def rot_z (OO00OOOOOOOOO000O ,OO00O0000000OOOO0 ):#line:98
        OO0O00OO00OOOO0OO =np .matrix ([[np .cos (OO00O0000000OOOO0 ),-np .sin (OO00O0000000OOOO0 ),0 ,0 ],[np .sin (OO00O0000000OOOO0 ),np .cos (OO00O0000000OOOO0 ),0 ,0 ],[0 ,0 ,1 ,0 ],[0 ,0 ,0 ,1 ]])#line:105
        return (OO0O00OO00OOOO0OO )#line:107
    def rot_x (OO00000OOO00O0000 ,O000OOOOOOO0O0O00 ):#line:109
        O0O00O0OO0000OO00 =np .matrix ([[1 ,0 ,0 ,0 ],[0 ,np .cos (O000OOOOOOO0O0O00 ),-np .sin (O000OOOOOOO0O0O00 ),0 ],[0 ,np .sin (O000OOOOOOO0O0O00 ),np .cos (O000OOOOOOO0O0O00 ),0 ],[0 ,0 ,0 ,1 ]])#line:116
        return (O0O00O0OO0000OO00 )#line:118
    def trans_z (OOOO0OO00O00000O0 ,O0O00OO0O0000000O ):#line:120
        OO00O0O0OO0OO00OO =np .matrix ([[1 ,0 ,0 ,0 ],[0 ,1 ,0 ,0 ],[0 ,0 ,1 ,O0O00OO0O0000000O ],[0 ,0 ,0 ,1 ]])#line:125
        return (OO00O0O0OO0OO00OO )#line:127
    def trans_x (O0O00OOO00OO0000O ,O0OO00000OO00000O ):#line:129
        OO00O0O000O0OOO00 =np .matrix ([[1 ,0 ,0 ,O0OO00000OO00000O ],[0 ,1 ,0 ,0 ],[0 ,0 ,1 ,0 ],[0 ,0 ,0 ,1 ]])#line:134
        return (OO00O0O000O0OOO00 )#line:135
    def compute_A (OO00OOO000O00O0OO ,O0000O00O0OO0O000 ,OO00O00OO0OO0OO00 ,O0O0OOO00000OO0OO ,OOOOO0OO00000OO0O ):#line:137
        OO00OO0O000O0O0O0 =OO00OOO000O00O0OO .rot_x (OO00O00OO0OO0OO00 )@OO00OOO000O00O0OO .trans_x (OOOOO0OO00000OO0O )@OO00OOO000O00O0OO .trans_z (O0O0OOO00000OO0OO )@OO00OOO000O00O0OO .rot_z (O0000O00O0OO0O000 )#line:139
        return (OO00OO0O000O0O0O0 )#line:140
    def forward (OO00O000OO0O00O00 ,O00O0OO0OO0OOOO0O ):#line:142
        ""#line:153
        OOOOOOO00OO00O0O0 =OO00O000OO0O00O00 .compute_A (O00O0OO0OO0OOOO0O [0 ],OO00O000OO0O00O00 .alpha1 ,OO00O000OO0O00O00 .d1 ,OO00O000OO0O00O00 .a1 )#line:157
        O00O0OOOO0O000000 =OO00O000OO0O00O00 .compute_A (O00O0OO0OO0OOOO0O [1 ],OO00O000OO0O00O00 .alpha2 ,OO00O000OO0O00O00 .d2 ,OO00O000OO0O00O00 .a2 )#line:160
        O000O00OO0O00O0O0 =OO00O000OO0O00O00 .compute_A (O00O0OO0OO0OOOO0O [2 ],OO00O000OO0O00O00 .alpha3 ,OO00O000OO0O00O00 .d3 ,OO00O000OO0O00O00 .a3 )#line:163
        O0OOO00OO00OO0OOO =OO00O000OO0O00O00 .compute_A (O00O0OO0OO0OOOO0O [3 ],OO00O000OO0O00O00 .alpha4 ,OO00O000OO0O00O00 .d4 ,OO00O000OO0O00O00 .a4 )#line:166
        OO00O0OOO000OO0OO =OO00O000OO0O00O00 .compute_A (O00O0OO0OO0OOOO0O [4 ],OO00O000OO0O00O00 .alpha5 ,OO00O000OO0O00O00 .d5 ,OO00O000OO0O00O00 .a5 )#line:169
        OOOOOOOOO00OOO00O =OO00O000OO0O00O00 .compute_A (O00O0OO0OO0OOOO0O [5 ],OO00O000OO0O00O00 .alpha6 ,OO00O000OO0O00O00 .d6 ,OO00O000OO0O00O00 .a6 )#line:172
        O0O0O0OO0O0OOOOOO =OO00O000OO0O00O00 .compute_A (O00O0OO0OO0OOOO0O [6 ],OO00O000OO0O00O00 .alpha7 ,OO00O000OO0O00O00 .d7 ,OO00O000OO0O00O00 .a7 )#line:175
        OOOO0OOO0OO00OOO0 =OO00O000OO0O00O00 .compute_A (-(np .pi /4.0 ),OO00O000OO0O00O00 .alpha8 ,OO00O000OO0O00O00 .d8 ,OO00O000OO0O00O00 .a8 )#line:179
        O0O0O00O0O0000OO0 =np .empty ((8 ,4 )).reshape ((8 ,4 ))#line:182
        O00OOOOO00OO00OO0 =lambda OO00O0000OOO00OOO :np .matrix ([[0 ,0 ,OO00O0000OOO00OOO ,1 ]]).reshape ((1 ,4 )).T #line:183
        O0O0O00O0O0000OO0 [0 ,:]=np .transpose (OOOOOOO00OO00O0O0 @O00OOOOO00OO00OO0 (OO00O000OO0O00O00 .c1 ))#line:186
        O0O0O00O0O0000OO0 [1 ,:]=np .transpose (OOOOOOO00OO00O0O0 @O00O0OOOO0O000000 @O00OOOOO00OO00OO0 (OO00O000OO0O00O00 .c2 ))#line:189
        O0O0O00O0O0000OO0 [2 ,:]=np .transpose (OOOOOOO00OO00O0O0 @O00O0OOOO0O000000 @O000O00OO0O00O0O0 @O00OOOOO00OO00OO0 (OO00O000OO0O00O00 .c3 ))#line:192
        O0O0O00O0O0000OO0 [3 ,:]=np .transpose (OOOOOOO00OO00O0O0 @O00O0OOOO0O000000 @O000O00OO0O00O0O0 @O0OOO00OO00OO0OOO @O00OOOOO00OO00OO0 (OO00O000OO0O00O00 .c4 ))#line:195
        O0O0O00O0O0000OO0 [4 ,:]=np .transpose (OOOOOOO00OO00O0O0 @O00O0OOOO0O000000 @O000O00OO0O00O0O0 @O0OOO00OO00OO0OOO @OO00O0OOO000OO0OO @O00OOOOO00OO00OO0 (OO00O000OO0O00O00 .c5 ))#line:198
        O0O0O00O0O0000OO0 [5 ,:]=np .transpose (OOOOOOO00OO00O0O0 @O00O0OOOO0O000000 @O000O00OO0O00O0O0 @O0OOO00OO00OO0OOO @OO00O0OOO000OO0OO @OOOOOOOOO00OOO00O @O00OOOOO00OO00OO0 (OO00O000OO0O00O00 .c6 ))#line:201
        O0O0O00O0O0000OO0 [6 ,:]=np .transpose (OOOOOOO00OO00O0O0 @O00O0OOOO0O000000 @O000O00OO0O00O0O0 @O0OOO00OO00OO0OOO @OO00O0OOO000OO0OO @OOOOOOOOO00OOO00O @O0O0O0OO0O0OOOOOO @O00OOOOO00OO00OO0 (OO00O000OO0O00O00 .c7 ))#line:204
        O0OOOO0000OO0O0O0 =(OOOOOOO00OO00O0O0 @O00O0OOOO0O000000 @O000O00OO0O00O0O0 @O0OOO00OO00OO0OOO @OO00O0OOO000OO0OO @OOOOOOOOO00OOO00O @O0O0O0OO0O0OOOOOO @OOOO0OOO0OO00OOO0 )#line:205
        O0O0O00O0O0000OO0 [7 ,:]=np .transpose (O0OOOO0000OO0O0O0 [range (4 ),3 ])#line:207
        O00O00000OO000OO0 =O0O0O00O0O0000OO0 [:,0 :3 ]#line:210
        O0OOOO0000OO0O0O0 =OOOOOOO00OO00O0O0 @O00O0OOOO0O000000 @O000O00OO0O00O0O0 @O0OOO00OO00OO0OOO @OO00O0OOO000OO0OO @OOOOOOOOO00OOO00O @O0O0O0OO0O0OOOOOO @OOOO0OOO0OO00OOO0 #line:213
        return O00O00000OO000OO0 ,O0OOOO0000OO0O0O0 #line:216
if __name__ =="__main__":#line:221
    print ("TEST")#line:222
